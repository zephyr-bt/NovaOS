let balance = parseInt(localStorage.getItem('flameBalance')) || 500; // Starting gift of 500
updateUI();

function updateUI() {
    document.getElementById('balance-display').innerText = `ğŸ”¥ ${balance}`;
    localStorage.setItem('flameBalance', balance);
}

function openModal(type) {
    document.getElementById('modal').style.display = 'flex';
    document.getElementById('modal-title').innerText = type === 'send' ? 'Send Flame' : 'Receive Flame';
}

function closeModal() {
    document.getElementById('modal').style.display = 'none';
}

function processTransaction() {
    const amount = parseInt(document.getElementById('amount-input').value);
    const recipient = document.getElementById('recipient-input').value;

    if (amount > 0 && amount <= balance) {
        balance -= amount;
        addTransaction(recipient, amount);
        updateUI();
        closeModal();
    } else {
        alert("Insufficient Flame or invalid amount!");
    }
}

function addTransaction(name, amt) {
    const list = document.getElementById('transaction-list');
    const emptyMsg = document.querySelector('.empty-msg');
    if (emptyMsg) emptyMsg.remove();

    const li = document.createElement('li');
    li.className = 'transaction-item';
    li.innerHTML = `<span>To: ${name}</span> <span style="color:red">-${amt}</span>`;
    list.prepend(li);
}
